import{c as N,r as _,d as k,j as t}from"./app-CN3BbJ5b.js";import{D as C,a as D}from"./dialog-fHWdycNU.js";import{c as M}from"./index-CZjjwbrG.js";import{c as S}from"./createLucideIcon-Cvhmgf6U.js";import{T as q}from"./trash-2-CEnDWS_I.js";/* empty css            */import"./index-fxJJ1D40.js";import"./index-BpvnwpBx.js";import"./index-HyMYkPDM.js";import"./index-B_ayM8w2.js";import"./index-BPocjY7g.js";import"./index-B2-ZojZD.js";import"./utils-Dt8dQi6c.js";import"./x-DOjlAHZp.js";import"./index-CMWG4mbA.js";const z=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],E=S("File",z);function J(w){const e=N.c(24),{title:x,patientId:v,media:p}=w,[d,b]=_.useState(null);let u;e[0]!==v?(u=(c,r)=>{c.stopPropagation(),confirm("Are you sure you want to delete this file?")&&k.delete(M.patient.media.delete({patient:v,media:r}).url,{preserveScroll:!0})},e[0]=v,e[1]=u):u=e[1];const m=u;if(!p.length)return null;let l;e[2]!==x?(l=t.jsx("h3",{className:"text-lg font-bold tracking-tight text-slate-900",children:x}),e[2]=x,e[3]=l):l=e[3];let o;if(e[4]!==m||e[5]!==p){let c;e[7]!==m?(c=r=>t.jsxs("div",{className:"group relative aspect-square rounded-xl border bg-muted overflow-hidden transition-all hover:ring-2 hover:ring-primary/50",children:[r.mime_type.startsWith("image")?t.jsx("img",{src:r.original_url,alt:r.file_name,className:"h-full w-full object-cover object-center cursor-zoom-in transition-transform duration-300 group-hover:scale-105",onClick:()=>b(r.original_url)}):t.jsxs("a",{href:r.original_url,target:"_blank",rel:"noopener noreferrer",className:"flex h-full flex-col items-center justify-center gap-2 p-4 text-muted-foreground hover:bg-slate-100 transition-colors",children:[t.jsx(E,{className:"h-8 w-8 text-primary"}),t.jsx("span",{className:"text-xs text-center truncate w-full px-2",children:r.file_name})]}),t.jsx("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:t.jsx("button",{onClick:y=>m(y,Number(r.id)),className:"p-1.5 bg-destructive text-destructive-foreground rounded-md shadow-lg hover:bg-destructive/90 transition-colors",title:"Delete file",children:t.jsx(q,{className:"w-4 h-4"})})})]},r.id),e[7]=m,e[8]=c):c=e[8],o=p.map(c),e[4]=m,e[5]=p,e[6]=o}else o=e[6];let i;e[9]!==o?(i=t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:o}),e[9]=o,e[10]=i):i=e[10];const j=!!d;let f;e[11]===Symbol.for("react.memo_cache_sentinel")?(f=()=>b(null),e[11]=f):f=e[11];let h;e[12]===Symbol.for("react.memo_cache_sentinel")?(h={maxWidth:1024},e[12]=h):h=e[12];let s;e[13]!==d?(s=d&&t.jsx("img",{src:d,className:"w-full h-auto max-h-[85vh] object-contain rounded-lg shadow-2xl",alt:"Preview"}),e[13]=d,e[14]=s):s=e[14];let a;e[15]!==s?(a=t.jsx(C,{className:"max-w-5xl p-0 overflow-hidden bg-transparent border-none shadow-none",style:h,children:s}),e[15]=s,e[16]=a):a=e[16];let n;e[17]!==j||e[18]!==a?(n=t.jsx(D,{open:j,onOpenChange:f,children:a}),e[17]=j,e[18]=a,e[19]=n):n=e[19];let g;return e[20]!==n||e[21]!==l||e[22]!==i?(g=t.jsxs("div",{className:"space-y-4",children:[l,i,n]}),e[20]=n,e[21]=l,e[22]=i,e[23]=g):g=e[23],g}export{J as default};
