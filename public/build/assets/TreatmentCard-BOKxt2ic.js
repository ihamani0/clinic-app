import{r as Y,j as r,c as Z}from"./app-CN3BbJ5b.js";import{B as ee}from"./badge-BlVA20f-.js";import{C as le,c as oe,f as ne,b as me}from"./card-hahnXqXv.js";import{c as de}from"./index-BcvZZGcV.js";import{P as te}from"./index-B2Vp4zyf.js";import{a as F,y as pe}from"./utils-Dt8dQi6c.js";import{TreatmentStepItem as ce}from"./TreatmentStepItem-DZEpNWPL.js";import ue from"./EditTreatmentModal-CgJ6jr0p.js";/* empty css            */import"./index-DaLjAgKf.js";import"./index-B_ayM8w2.js";import"./button-C7NEJwXC.js";import"./index-CZjjwbrG.js";import"./index-CMWG4mbA.js";import"./createLucideIcon-Cvhmgf6U.js";import"./clock-u5gk94Rc.js";import"./circle-x-qblXZ9ZK.js";import"./dialog-fHWdycNU.js";import"./index-fxJJ1D40.js";import"./index-BpvnwpBx.js";import"./index-HyMYkPDM.js";import"./index-BPocjY7g.js";import"./index-B2-ZojZD.js";import"./x-DOjlAHZp.js";import"./input-DxGc0FAF.js";import"./textarea-CQwmzCvL.js";import"./square-pen-DwcT1mpI.js";import"./circle-plus-D7Jd6lRP.js";var z="Progress",J=100,[fe]=de(z),[xe,ge]=fe(z),se=Y.forwardRef((s,e)=>{const{__scopeProgress:t,value:a=null,max:l,getValueLabel:n=ve,...m}=s;(l||l===0)&&!Q(l)&&console.error(he(`${l}`,"Progress"));const i=Q(l)?l:J;a!==null&&!W(a,i)&&console.error(be(`${a}`,"Progress"));const o=W(a,i)?a:null,d=G(o)?n(o,i):void 0;return r.jsx(xe,{scope:t,value:o,max:i,children:r.jsx(te.div,{"aria-valuemax":i,"aria-valuemin":0,"aria-valuenow":G(o)?o:void 0,"aria-valuetext":d,role:"progressbar","data-state":ie(o,i),"data-value":o??void 0,"data-max":i,...m,ref:e})})});se.displayName=z;var re="ProgressIndicator",ae=Y.forwardRef((s,e)=>{const{__scopeProgress:t,...a}=s,l=ge(re,t);return r.jsx(te.div,{"data-state":ie(l.value,l.max),"data-value":l.value??void 0,"data-max":l.max,...a,ref:e})});ae.displayName=re;function ve(s,e){return`${Math.round(s/e*100)}%`}function ie(s,e){return s==null?"indeterminate":s===e?"complete":"loading"}function G(s){return typeof s=="number"}function Q(s){return G(s)&&!isNaN(s)&&s>0}function W(s,e){return G(s)&&!isNaN(s)&&s<=e&&s>=0}function he(s,e){return`Invalid prop \`max\` of value \`${s}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${J}\`.`}function be(s,e){return`Invalid prop \`value\` of value \`${s}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${J} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var je=se,Ne=ae;function Pe(s){const e=Z.c(12);let t,a,l;e[0]!==s?({className:t,value:l,...a}=s,e[0]=s,e[1]=t,e[2]=a,e[3]=l):(t=e[1],a=e[2],l=e[3]);let n;e[4]!==t?(n=F("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),e[4]=t,e[5]=n):n=e[5];const m=`translateX(-${100-(l||0)}%)`;let i;e[6]!==m?(i=r.jsx(Ne,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:m}}),e[6]=m,e[7]=i):i=e[7];let o;return e[8]!==a||e[9]!==n||e[10]!==i?(o=r.jsx(je,{"data-slot":"progress",className:n,...a,children:i}),e[8]=a,e[9]=n,e[10]=i,e[11]=o):o=e[11],o}function Ze(s){const e=Z.c(83),{treatment:t,patientId:a}=s,l=t.status!=="completed"&&Number(t.paid)===0;let n;e[0]!==t.steps?(n=t.steps.filter(_e),e[0]=t.steps,e[1]=n):n=e[1];const m=n.length,i=t.steps.length;let o;e[2]!==m||e[3]!==i?(o=Math.round(m/i*100),e[2]=m,e[3]=i,e[4]=o):o=e[4];const d=o,X=t.status==="completed"&&"bg-green-50/30 dark:bg-green-950/10";let p;e[5]!==X?(p=F("relative overflow-hidden border-slate-200 bg-slate-50/50 dark:bg-slate-900/50 transition-colors hover:bg-slate-50",X),e[5]=X,e[6]=p):p=e[6];const H=t.status==="completed"?"bg-green-500":t.status==="in_progress"?"bg-primary":"bg-muted";let c;e[7]!==H?(c=F("absolute left-0 top-0 h-full w-1",H),e[7]=H,e[8]=c):c=e[8];let u;e[9]!==c?(u=r.jsx("div",{className:c}),e[9]=c,e[10]=u):u=e[10];let f;e[11]!==t.title?(f=r.jsx("h3",{className:"font-semibold text-base",children:t.title}),e[11]=t.title,e[12]=f):f=e[12];let x;e[13]!==t.description?(x=r.jsx("p",{className:"text-sm text-foreground ",children:t.description}),e[13]=t.description,e[14]=x):x=e[14];let g;e[15]!==t.teeth?(g=t.teeth.map(ye),e[15]=t.teeth,e[16]=g):g=e[16];let v;e[17]!==g?(v=r.jsx("div",{className:"flex gap-1 mt-2",children:g}),e[17]=g,e[18]=v):v=e[18];let h;e[19]!==v||e[20]!==f||e[21]!==x?(h=r.jsxs("div",{className:"space-y-2",children:[f,x,v]}),e[19]=v,e[20]=f,e[21]=x,e[22]=h):h=e[22];let b;e[23]!==t.status?(b=pe(t.status),e[23]=t.status,e[24]=b):b=e[24];let j;e[25]!==t.status?(j=t.status.replace("_"," "),e[25]=t.status,e[26]=j):j=e[26];let N;e[27]!==b||e[28]!==j?(N=r.jsx(ee,{variant:b,children:j}),e[27]=b,e[28]=j,e[29]=N):N=e[29];let P;e[30]!==h||e[31]!==N?(P=r.jsxs("div",{className:"flex items-start justify-between",children:[h,N]}),e[30]=h,e[31]=N,e[32]=P):P=e[32];let y;e[33]!==m||e[34]!==i?(y=r.jsxs("span",{children:[m,"/",i," steps"]}),e[33]=m,e[34]=i,e[35]=y):y=e[35];let _;e[36]!==d?(_=r.jsxs("span",{children:[d,"%"]}),e[36]=d,e[37]=_):_=e[37];let $;e[38]!==y||e[39]!==_?($=r.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-1",children:[y,_]}),e[38]=y,e[39]=_,e[40]=$):$=e[40];let w;e[41]!==d?(w=r.jsx(Pe,{value:d}),e[41]=d,e[42]=w):w=e[42];let C;e[43]!==$||e[44]!==w?(C=r.jsxs("div",{children:[$,w]}),e[43]=$,e[44]=w,e[45]=C):C=e[45];let E;e[46]!==l||e[47]!==a||e[48]!==t?(E=l&&r.jsx(ue,{Treatment:t,patientId:a}),e[46]=l,e[47]=a,e[48]=t,e[49]=E):E=e[49];let I;e[50]!==P||e[51]!==C||e[52]!==E?(I=r.jsxs(le,{className:"space-y-2",children:[P,C,E]}),e[50]=P,e[51]=C,e[52]=E,e[53]=I):I=e[53];let R;if(e[54]!==a||e[55]!==t.steps){let B;e[57]!==a?(B=K=>r.jsx(ce,{step:K,patientId:a},K.id),e[57]=a,e[58]=B):B=e[58],R=t.steps.map(B),e[54]=a,e[55]=t.steps,e[56]=R}else R=e[56];let S;e[59]!==R?(S=r.jsx(oe,{className:"space-y-3",children:R}),e[59]=R,e[60]=S):S=e[60];let A;e[61]!==t.price?(A=r.jsxs("span",{className:"font-medium",children:[t.price," DA"]}),e[61]=t.price,e[62]=A):A=e[62];let O;e[63]===Symbol.for("react.memo_cache_sentinel")?(O=r.jsx("br",{}),e[63]=O):O=e[63];let M;e[64]!==t.paid?(M=r.jsxs("span",{className:"font-medium",children:[t.paid," DA"]}),e[64]=t.paid,e[65]=M):M=e[65];let T;e[66]!==A||e[67]!==M?(T=r.jsxs("div",{className:"text-muted-foreground",children:["Total: ",A,O,"Paid: ",M]}),e[66]=A,e[67]=M,e[68]=T):T=e[68];const U=t.remaining&&t.remaining>0?"text-red-600":"text-green-600";let D;e[69]!==U?(D=F("font-semibold",U),e[69]=U,e[70]=D):D=e[70];const q=t.remaining&&t.remaining>0?`Remaining: ${t.remaining} DA`:"Paid";let V;e[71]!==D||e[72]!==q?(V=r.jsx("div",{className:D,children:q}),e[71]=D,e[72]=q,e[73]=V):V=e[73];let L;e[74]!==T||e[75]!==V?(L=r.jsxs(ne,{className:"flex justify-between text-sm border-t pt-3",children:[T,V]}),e[74]=T,e[75]=V,e[76]=L):L=e[76];let k;return e[77]!==I||e[78]!==S||e[79]!==L||e[80]!==p||e[81]!==u?(k=r.jsxs(me,{className:p,children:[u,I,S,L]}),e[77]=I,e[78]=S,e[79]=L,e[80]=p,e[81]=u,e[82]=k):k=e[82],k}function ye(s){return r.jsxs(ee,{variant:"outline",children:["ðŸ¦· ",s.tooth_number]},s.id)}function _e(s){return s.status==="done"}export{Ze as default};
