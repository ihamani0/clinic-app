import{c as Ae,j as t,r as we,u as Re,L as Me}from"./app-CN3BbJ5b.js";import{C as Ue}from"./calendar-CAlrOj2S.js";import{P as Be,a as He,b as Ee}from"./popover-CWwjlC8R.js";import{B as De}from"./button-C7NEJwXC.js";import{S as w,a as T,b as $,e as Te,d,c as ne}from"./select-TIAfpI0l.js";import{L as g}from"./label-BAmIZs5g.js";import{A as Fe,D as Ie}from"./index-BT5Tqy2x.js";import{C as qe}from"./calendar-days-B2uKnAIu.js";import{b as Oe}from"./utils-Dt8dQi6c.js";import{B as Le}from"./box-color-BenHyZDA.js";import{S as $e}from"./separator-DXK06VF0.js";import{T as Ye}from"./textarea-CQwmzCvL.js";import{c as Pe}from"./index-CZjjwbrG.js";import{U as ze}from"./user-round-cog-B2JZLf_n.js";import{c as Ge}from"./createLucideIcon-Cvhmgf6U.js";import{T as Ve,C as Je}from"./tags-B9AcocUu.js";import{S as Ke}from"./stethoscope-CQeWYEHH.js";/* empty css            */import"./chevron-right-BFI9On6S.js";import"./index-BpvnwpBx.js";import"./index-HyMYkPDM.js";import"./index-B_ayM8w2.js";import"./index-BPocjY7g.js";import"./index-B2-ZojZD.js";import"./index-BTIXps0c.js";import"./index-Zn1P3asn.js";import"./index-DaLjAgKf.js";import"./index-CACXGmPQ.js";import"./index-CT7R5o8s.js";import"./index-CVLhjVh0.js";import"./check-Bm50D4KV.js";import"./index-B2Vp4zyf.js";import"./index-CMWG4mbA.js";const Qe=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],We=Ge("CircleUserRound",Qe);function Xe(s){const e=Ae.c(39),{label:i,value:l,onChange:o}=s;let c;e[0]!==i?(c=t.jsx(g,{className:"text-sm font-semibold",children:i}),e[0]=i,e[1]=c):c=e[1];let y;e[2]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx(qe,{className:"mr-2 h-4 w-4"}),e[2]=y):y=e[2];let b;e[3]!==l.date?(b=l.date?Oe(l.date,"PPP"):"Pick a date",e[3]=l.date,e[4]=b):b=e[4];let f;e[5]!==b?(f=t.jsx(He,{asChild:!0,children:t.jsxs(De,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[y,b]})}),e[5]=b,e[6]=f):f=e[6];let x;e[7]!==o||e[8]!==l?(x=S=>o({...l,date:S}),e[7]=o,e[8]=l,e[9]=x):x=e[9];let m;e[10]!==x||e[11]!==l.date?(m=t.jsx(Be,{className:"w-auto p-0",children:t.jsx(Ue,{mode:"single",selected:l.date,onSelect:x,disabled:tt})}),e[10]=x,e[11]=l.date,e[12]=m):m=e[12];let N;e[13]!==f||e[14]!==m?(N=t.jsxs(Ee,{children:[f,m]}),e[13]=f,e[14]=m,e[15]=N):N=e[15];let p;e[16]!==o||e[17]!==l?(p=S=>o({...l,hour:S}),e[16]=o,e[17]=l,e[18]=p):p=e[18];let n;e[19]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx($,{className:"w-full",children:t.jsx(Te,{title:"hour"})}),e[19]=n):n=e[19];let a;e[20]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx(w,{children:Fe.map(et)}),e[20]=a):a=e[20];let u;e[21]!==p||e[22]!==l.hour?(u=t.jsxs(T,{value:l.hour,onValueChange:p,children:[n,a]}),e[21]=p,e[22]=l.hour,e[23]=u):u=e[23];let h;e[24]!==o||e[25]!==l?(h=S=>o({...l,minute:S}),e[24]=o,e[25]=l,e[26]=h):h=e[26];let v;e[27]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx($,{className:"w-full",children:t.jsx(Te,{title:"Minute"})}),e[27]=v):v=e[27];let _;e[28]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx(w,{children:["00","15","30","45"].map(Ze)}),e[28]=_):_=e[28];let C;e[29]!==h||e[30]!==l.minute?(C=t.jsxs(T,{value:l.minute,onValueChange:h,children:[v,_]}),e[29]=h,e[30]=l.minute,e[31]=C):C=e[31];let j;e[32]!==u||e[33]!==C?(j=t.jsxs("div",{className:"flex gap-2",children:[u,C]}),e[32]=u,e[33]=C,e[34]=j):j=e[34];let D;return e[35]!==c||e[36]!==j||e[37]!==N?(D=t.jsxs("div",{className:"space-y-2",children:[c,N,j]}),e[35]=c,e[36]=j,e[37]=N,e[38]=D):D=e[38],D}function Ze(s){return t.jsx(d,{value:s,children:s},s)}function et(s){const e=s.toString().padStart(2,"0");return t.jsx(d,{value:e,children:e},e)}function tt(s){return s<new Date(new Date().setHours(0,0,0,0))}function st(s){if(!s.date)return null;const e=new Date(s.date);return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")} ${s.hour}:${s.minute}:00`}function Ft(s){const e=Ae.c(112),{appointment:i,initialData:l,doctors:o,categories:c,onSubmit:y,submitLabel:b,patients:f}=s;let x;e[0]!==l.start?(x=()=>{if(!l.start)return{date:void 0,hour:"09",minute:"00"};const r=new Date(l.start);return{date:r,hour:r.getHours().toString().padStart(2,"0"),minute:r.getMinutes().toString().padStart(2,"0")}},e[0]=l.start,e[1]=x):x=e[1];const[m,N]=we.useState(x),p=Re(l),{data:n,setData:a,processing:u,errors:h,transform:v}=p,[_,C]=we.useState();let j;e[2]!==c||e[3]!==_?(j=_?c.find(r=>String(r.id)===_)?.types??[]:[],e[2]=c,e[3]=_,e[4]=j):j=e[4];const D=j;let S;e[5]!==p||e[6]!==y||e[7]!==m||e[8]!==v?(S=r=>{r.preventDefault(),v(ke=>({...ke,start:st(m)})),y(p)},e[5]=p,e[6]=y,e[7]=m,e[8]=v,e[9]=S):S=e[9];const ye=S;let oe;e[10]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(g,{className:"text-sm font-semibold",children:"Doctor"}),e[10]=oe):oe=e[10];const be=String(n.doctor_id);let P;e[11]!==a?(P=r=>a("doctor_id",r),e[11]=a,e[12]=P):P=e[12];let ce;e[13]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsxs($,{children:[t.jsx(Ke,{className:"h-4 w-4 text-muted-foreground"}),t.jsx(ne,{title:"select Doctor"})]}),e[13]=ce):ce=e[13];let V;e[14]!==o?(V=o.map(nt),e[14]=o,e[15]=V):V=e[15];let A;e[16]!==V?(A=t.jsx(w,{children:V}),e[16]=V,e[17]=A):A=e[17];let L;e[18]!==be||e[19]!==P||e[20]!==A?(L=t.jsxs("div",{className:"flex flex-col space-y-2",children:[oe,t.jsxs(T,{value:be,onValueChange:P,children:[ce,A]})]}),e[18]=be,e[19]=P,e[20]=A,e[21]=L):L=e[21];let k;e[22]!==i?(k=i&&t.jsx("div",{className:"flex flex-col space-y-2",children:t.jsxs(g,{className:"flex items-center gap-x-2 text-sm",children:[t.jsx(ze,{}),t.jsxs("span",{className:"text-muted-foreground",children:["create by -"," "]}),t.jsx("span",{className:"font-bold",children:i.creator?.name||"-"})]})}),e[22]=i,e[23]=k):k=e[23];let R;e[24]!==n.patient_id||e[25]!==f||e[26]!==a?(R=f&&t.jsxs("div",{className:"flex flex-col space-y-2",children:[t.jsx(g,{className:"text-sm font-semibold",children:"Patient"}),t.jsxs(T,{value:String(n.patient_id),onValueChange:r=>a("patient_id",r),children:[t.jsxs($,{children:[t.jsx(We,{className:"h-4 w-4 text-muted-foreground"}),t.jsx(ne,{title:"select Doctor"})]}),t.jsx(w,{children:f.map(rt)})]})]}),e[24]=n.patient_id,e[25]=f,e[26]=a,e[27]=R):R=e[27];let M;e[28]!==L||e[29]!==k||e[30]!==R?(M=t.jsxs("div",{className:"mb-2 grid grid-cols-2 gap-4",children:[L,k,R]}),e[28]=L,e[29]=k,e[30]=R,e[31]=M):M=e[31];let me;e[32]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx($e,{}),e[32]=me):me=e[32];let U;e[33]!==i?(U=i?t.jsxs(g,{className:"flex items-center gap-x-2 text-sm",children:[t.jsx(Le,{color:i.type?.category.color}),t.jsxs("span",{className:"text-muted-foreground",children:["Category -"," "]}),t.jsx("span",{className:"font-bold",children:i.type?.category.name})]}):t.jsx(g,{children:"Category"}),e[33]=i,e[34]=U):U=e[34];let de;e[35]===Symbol.for("react.memo_cache_sentinel")?(de=r=>C(r),e[35]=de):de=e[35];const Ne=_||"";let fe;e[36]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsxs($,{className:"flex items-center gap-2",children:[t.jsx(Ve,{className:"h-4 w-4 text-muted-foreground"}),t.jsx(ne,{placeholder:"Select category"})]}),e[36]=fe):fe=e[36];let B;e[37]!==c?(B=c.map(at),e[37]=c,e[38]=B):B=e[38];let H;e[39]!==B?(H=t.jsx(w,{children:B}),e[39]=B,e[40]=H):H=e[40];let E;e[41]!==Ne||e[42]!==H?(E=t.jsxs(T,{onValueChange:de,value:Ne,children:[fe,H]}),e[41]=Ne,e[42]=H,e[43]=E):E=e[43];let F;e[44]!==U||e[45]!==E?(F=t.jsxs("div",{className:"flex flex-col space-y-2",children:[U,E]}),e[44]=U,e[45]=E,e[46]=F):F=e[46];let I;e[47]!==i?(I=i?t.jsxs(g,{className:"text-sm",children:[t.jsxs("span",{className:"text-muted-foreground",children:["Appointment Type -"," "]}),t.jsx("span",{className:"font-bold",children:i.type?.name})]}):t.jsx(g,{children:"Appointment Type"}),e[47]=i,e[48]=I):I=e[48];let q;e[49]!==a?(q=r=>a("appointment_type_id",r),e[49]=a,e[50]=q):q=e[50];let xe;e[51]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsxs($,{className:"item-center flex gap-2",children:[t.jsx(Je,{className:"h-4 w-4 text-muted-foreground"}),t.jsx(ne,{title:"Select treatment"})]}),e[51]=xe):xe=e[51];let O;e[52]!==D?(O=D?.map(it),e[52]=D,e[53]=O):O=e[53];let Y;e[54]!==O?(Y=t.jsx(w,{children:O}),e[54]=O,e[55]=Y):Y=e[55];let z;e[56]!==n.appointment_type_id||e[57]!==q||e[58]!==Y?(z=t.jsxs(T,{value:n.appointment_type_id,onValueChange:q,children:[xe,Y]}),e[56]=n.appointment_type_id,e[57]=q,e[58]=Y,e[59]=z):z=e[59];let G;e[60]!==h.appointment_type_id?(G=h.appointment_type_id&&t.jsx("p",{className:"mt-1 text-sm text-red-500",children:h.appointment_type_id}),e[60]=h.appointment_type_id,e[61]=G):G=e[61];let J;e[62]!==I||e[63]!==z||e[64]!==G?(J=t.jsxs("div",{className:"flex flex-col space-y-2",children:[I,z,G]}),e[62]=I,e[63]=z,e[64]=G,e[65]=J):J=e[65];let K;e[66]!==F||e[67]!==J?(K=t.jsxs("div",{className:"my-2 grid grid-cols-2 gap-4",children:[F,J]}),e[66]=F,e[67]=J,e[68]=K):K=e[68];let pe;e[69]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx($e,{}),e[69]=pe):pe=e[69];let Q;e[70]!==m?(Q=t.jsx(Xe,{label:"Start Time",value:m,onChange:N}),e[70]=m,e[71]=Q):Q=e[71];let ue;e[72]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx(g,{className:"text-sm",children:"Duration"}),e[72]=ue):ue=e[72];const ve=String(n.duration);let W;e[73]!==a?(W=r=>a("duration",Number(r)),e[73]=a,e[74]=W):W=e[74];let he;e[75]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx($,{children:t.jsx(ne,{title:"Duration"})}),e[75]=he):he=e[75];let je;e[76]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx(w,{children:Ie.map(lt)}),e[76]=je):je=e[76];let X;e[77]!==ve||e[78]!==W?(X=t.jsxs("div",{className:"flex flex-col space-y-2",children:[ue,t.jsxs(T,{value:ve,onValueChange:W,children:[he,je]})]}),e[77]=ve,e[78]=W,e[79]=X):X=e[79];let Z;e[80]!==Q||e[81]!==X?(Z=t.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-4 md:grid-cols-2",children:[Q,X]}),e[80]=Q,e[81]=X,e[82]=Z):Z=e[82];let ee;e[83]!==i||e[84]!==n.status||e[85]!==a?(ee=i&&t.jsxs("div",{className:"my-3",children:[t.jsxs(g,{className:"flex items-center gap-x-2 text-sm font-semibold",children:[t.jsx(Ve,{})," Status"]}),t.jsxs(T,{value:n.status,onValueChange:r=>a("status",r),children:[t.jsx($,{children:t.jsx(ne,{title:"Select status"})}),t.jsxs(w,{children:[t.jsx(d,{value:"scheduled",children:"Scheduled"}),t.jsx(d,{value:"confirmed",children:"Confirmed"}),t.jsx(d,{value:"seated",children:"Seated"}),t.jsx(d,{value:"completed",children:"Completed"}),t.jsx(d,{value:"cancelled",children:"Cancelled"}),t.jsx(d,{value:"missed",children:"Missed"})]})]})]}),e[83]=i,e[84]=n.status,e[85]=a,e[86]=ee):ee=e[86];let ge;e[87]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx(g,{className:"text-sm font-semibold",children:"Notes"}),e[87]=ge):ge=e[87];let te;e[88]!==a?(te=r=>a("note",r.target.value),e[88]=a,e[89]=te):te=e[89];let se;e[90]!==n.note||e[91]!==te?(se=t.jsxs("div",{children:[ge,t.jsx(Ye,{value:n.note,onChange:te})]}),e[90]=n.note,e[91]=te,e[92]=se):se=e[92];let le;e[93]!==i?(le=i?Pe.appointments.show({appointment:Number(i.id)}).url:Pe.appointments.index().url,e[93]=i,e[94]=le):le=e[94];let _e;e[95]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsx(De,{variant:"outline",type:"button",children:"Cancel"}),e[95]=_e):_e=e[95];let ie;e[96]!==le?(ie=t.jsx(Me,{href:le,children:_e}),e[96]=le,e[97]=ie):ie=e[97];const Ce=u?"... loading":b;let ae;e[98]!==u||e[99]!==Ce?(ae=t.jsx(De,{disabled:u,type:"submit",children:Ce}),e[98]=u,e[99]=Ce,e[100]=ae):ae=e[100];let re;e[101]!==ie||e[102]!==ae?(re=t.jsxs("div",{className:"mt-3 flex justify-end gap-3",children:[ie,ae]}),e[101]=ie,e[102]=ae,e[103]=re):re=e[103];let Se;return e[104]!==ye||e[105]!==M||e[106]!==K||e[107]!==Z||e[108]!==ee||e[109]!==se||e[110]!==re?(Se=t.jsxs("form",{onSubmit:ye,children:[M,me,K,pe,Z,ee,se,re]}),e[104]=ye,e[105]=M,e[106]=K,e[107]=Z,e[108]=ee,e[109]=se,e[110]=re,e[111]=Se):Se=e[111],Se}function lt(s){return t.jsxs(d,{value:String(s),children:[s," min"]},s)}function it(s){return t.jsx(d,{value:s.id.toString(),children:s.name},s.id)}function at(s){return t.jsx(d,{value:s.id.toString(),children:s.name},s.id)}function rt(s){return t.jsxs(d,{value:String(s.id),children:[s.first_name," ",s.last_name]},s.id)}function nt(s){return t.jsxs(d,{value:String(s.id),children:[s.color&&t.jsx(Le,{color:s.color}),s.name]},s.id)}export{Ft as default};
