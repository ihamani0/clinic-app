import{c as A,r as N,u as F,j as o}from"./app-CN3BbJ5b.js";import{PatientSelector as O}from"./PatientSelector-BMi44Ocs.js";import{d as R,D as I,a as $}from"./dialog-fHWdycNU.js";import{B as P}from"./button-C7NEJwXC.js";/* empty css            */import"./utils-Dt8dQi6c.js";import"./index-fxJJ1D40.js";import"./index-BpvnwpBx.js";import"./index-HyMYkPDM.js";import"./index-B_ayM8w2.js";import"./index-BPocjY7g.js";import"./index-B2-ZojZD.js";import"./index-B2Vp4zyf.js";import"./index-DaLjAgKf.js";import"./search-O-6u0YIl.js";import"./createLucideIcon-Cvhmgf6U.js";import"./popover-CWwjlC8R.js";import"./index-BTIXps0c.js";import"./index-Zn1P3asn.js";import"./input-DxGc0FAF.js";import"./label-BAmIZs5g.js";import"./spinner-BJMYT9YU.js";import"./loader-circle-yCDM4bKH.js";import"./index-CZjjwbrG.js";import"./index-CMWG4mbA.js";import"./calendar-D5oWVwJF.js";import"./chevrons-up-down-Je0y-Cb2.js";import"./check-Bm50D4KV.js";import"./x-DOjlAHZp.js";function ft(v){const t=A.c(34),{open:u,onOpenChange:r,initialData:e,onOpenNewPatient:x,newlyCreatedPatient:h}=v,[j,k]=N.useState(""),D=e.doctor_id||"",g=e.start||"";let l;t[0]!==D||t[1]!==g?(l={patient_id:"",doctor_id:D,appointment_type_id:"",start:g,duration:30,note:""},t[0]=D,t[1]=g,t[2]=l):l=t[2];const{data:y,setData:i,post:C,processing:S,errors:b,reset:w}=F(l);let d;t[3]!==e.doctor_id||t[4]!==e.start||t[5]!==i?(d=()=>{e.start&&i("start",e.start),e.doctor_id&&i("doctor_id",e.doctor_id)},t[3]=e.doctor_id,t[4]=e.start,t[5]=i,t[6]=d):d=t[6];let c;t[7]!==e?(c=[e],t[7]=e,t[8]=c):c=t[8],N.useEffect(d,c);let f;t[9]!==r||t[10]!==C||t[11]!==w?(f=E=>{E.preventDefault(),C(route("appointments.store"),{onSuccess:()=>{r(!1),w()}})},t[9]=r,t[10]=C,t[11]=w,t[12]=f):f=t[12];const B=f;let s;t[13]!==i?(s=E=>i("patient_id",E),t[13]=i,t[14]=s):s=t[14];let a;t[15]!==j||t[16]!==y.patient_id||t[17]!==b.patient_id||t[18]!==h||t[19]!==s?(a=o.jsx(O,{birthday:j,onBirthdayChange:k,selectedId:y.patient_id,onSelect:s,newlyCreatedPatient:h,error:b.patient_id}),t[15]=j,t[16]=y.patient_id,t[17]=b.patient_id,t[18]=h,t[19]=s,t[20]=a):a=t[20];let n;t[21]!==x?(n=o.jsx(P,{type:"button",variant:"link",onClick:x,children:"+ Create New Patient"}),t[21]=x,t[22]=n):n=t[22];let p;t[23]!==S?(p=o.jsx(R,{children:o.jsx(P,{disabled:S,children:"Save Appointment"})}),t[23]=S,t[24]=p):p=t[24];let m;t[25]!==B||t[26]!==p||t[27]!==a||t[28]!==n?(m=o.jsx(I,{className:"max-w-3xl",children:o.jsxs("form",{onSubmit:B,className:"space-y-4",children:[a,n,p]})}),t[25]=B,t[26]=p,t[27]=a,t[28]=n,t[29]=m):m=t[29];let _;return t[30]!==r||t[31]!==u||t[32]!==m?(_=o.jsx($,{open:u,onOpenChange:r,children:m}),t[30]=r,t[31]=u,t[32]=m,t[33]=_):_=t[33],_}export{ft as CreateAppointmentDialog};
