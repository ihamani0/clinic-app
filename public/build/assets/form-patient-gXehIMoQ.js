import{c as ge,r as pe,u as _e,j as a}from"./app-CN3BbJ5b.js";import{B as ue}from"./button-C7NEJwXC.js";import{a as je,b as ve,c as Ne,S as Se,d as he}from"./select-TIAfpI0l.js";import{F as B}from"./form-field-3Cd0jhZm.js";import{w as ye,b as De,x as Ce}from"./utils-Dt8dQi6c.js";import{a as Pe,P as Ee,b as Fe}from"./popover-CWwjlC8R.js";import{C as we}from"./calendar-CAlrOj2S.js";import{L as xe}from"./label-BAmIZs5g.js";import{I as qe}from"./input-DxGc0FAF.js";import{C as Le}from"./calendar-D5oWVwJF.js";import{p as Be}from"./parseISO-DSEiU6Nx.js";/* empty css            */import"./index-DaLjAgKf.js";import"./index-B_ayM8w2.js";import"./index-BpvnwpBx.js";import"./index-HyMYkPDM.js";import"./index-CACXGmPQ.js";import"./index-BPocjY7g.js";import"./index-B2-ZojZD.js";import"./index-BTIXps0c.js";import"./index-Zn1P3asn.js";import"./index-CT7R5o8s.js";import"./index-CVLhjVh0.js";import"./createLucideIcon-Cvhmgf6U.js";import"./check-Bm50D4KV.js";import"./chevron-right-BFI9On6S.js";import"./index-B2Vp4zyf.js";function ct(n){const e=ge.c(110),{patient:l,method:U,action:W}=n;let I;e[0]!==l?(I=l?.dob?Be(l.dob):void 0,e[0]=l,e[1]=I):I=e[1];const[o,fe]=pe.useState(I);let k;e[2]!==o?(k=o?ye(o):null,e[2]=o,e[3]=k):k=e[3];const A=k,X=l?.first_name||"",Y=l?.last_name||"",Z=l?.phone||"",ee=l?.address||"",te=l?.dob||"",ae=l?.email||"",se=l?.gender||"";let G;e[4]!==X||e[5]!==Y||e[6]!==Z||e[7]!==ee||e[8]!==te||e[9]!==ae||e[10]!==se?(G={first_name:X,last_name:Y,phone:Z,address:ee,dob:te,email:ae,gender:se,photo:null},e[4]=X,e[5]=Y,e[6]=Z,e[7]=ee,e[8]=te,e[9]=ae,e[10]=se,e[11]=G):G=e[11];const t=_e(G);let O;e[12]===Symbol.for("react.memo_cache_sentinel")?(O={},e[12]=O):O=e[12];const[r,R]=pe.useState(O);let T;e[13]!==t.data.dob||e[14]!==t.data.first_name||e[15]!==t.data.gender||e[16]!==t.data.last_name||e[17]!==t.data.phone?(T=()=>{const s={};return t.data.first_name.trim()||(s.first_name="First Name is required"),t.data.last_name.trim()||(s.last_name="Last Name is required"),t.data.dob||(s.dob="Date of birth is required"),t.data.phone.trim()||(s.phone="Phone number is required"),t.data.gender||(s.gender="Gender is required"),R(s),Object.keys(s).length===0},e[13]=t.data.dob,e[14]=t.data.first_name,e[15]=t.data.gender,e[16]=t.data.last_name,e[17]=t.data.phone,e[18]=T):T=e[18];const re=T;let V;e[19]!==W||e[20]!==t||e[21]!==U||e[22]!==re?(V=s=>{s.preventDefault(),re()&&(t.transform(be=>({...be,_method:U==="put"?"put":"post"})),t.post(W,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{t.reset(),fe(void 0)}}))},e[19]=W,e[20]=t,e[21]=U,e[22]=re,e[23]=V):V=e[23];const le=V,oe=r?.first_name||t.errors?.first_name;let i;e[24]!==t?(i=s=>{t.setData("first_name",s),R(Ge)},e[24]=t,e[25]=i):i=e[25];let m;e[26]!==t.data.first_name||e[27]!==oe||e[28]!==i?(m=a.jsx(B,{name:"First name",label:"First Name",placeholder:"First Name",value:t.data.first_name,error:oe,required:!0,onChangeEvent:i}),e[26]=t.data.first_name,e[27]=oe,e[28]=i,e[29]=m):m=e[29];const ne=r?.last_name||t.errors?.last_name;let d;e[30]!==t?(d=s=>{t.setData("last_name",s),R(Ae)},e[30]=t,e[31]=d):d=e[31];let c;e[32]!==t.data.last_name||e[33]!==ne||e[34]!==d?(c=a.jsx(B,{name:"Last name",label:"Last Name",placeholder:"Last Name",value:t.data.last_name,error:ne,required:!0,onChangeEvent:d}),e[32]=t.data.last_name,e[33]=ne,e[34]=d,e[35]=c):c=e[35];let f;e[36]!==m||e[37]!==c?(f=a.jsxs("div",{className:"grid grid-cols-2 gap-x-2",children:[m,c]}),e[36]=m,e[37]=c,e[38]=f):f=e[38];let $;e[39]===Symbol.for("react.memo_cache_sentinel")?($=a.jsxs("label",{className:"text-sm font-medium",children:["Date of Birth ",a.jsx("span",{className:"text-red-400",children:"*"})]}),e[39]=$):$=e[39];let M;e[40]===Symbol.for("react.memo_cache_sentinel")?(M=a.jsx(Le,{className:"mr-2 h-4 w-4"}),e[40]=M):M=e[40];let p;e[41]!==o?(p=o?De(o,"PPP"):"Pick a date",e[41]=o,e[42]=p):p=e[42];let u;e[43]!==p?(u=a.jsx(Pe,{asChild:!0,children:a.jsxs(ue,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[M,p]})}),e[43]=p,e[44]=u):u=e[44];let h;e[45]!==t?(h=s=>{s&&(fe(s),t.setData("dob",Ce(s)))},e[45]=t,e[46]=h):h=e[46];let x;e[47]!==o||e[48]!==h?(x=a.jsx(Ee,{className:"w-auto p-0",align:"start",children:a.jsx(we,{mode:"single",captionLayout:"dropdown",selected:o,className:"rounded-lg border shadow-sm",onSelect:h,disabled:ke})}),e[47]=o,e[48]=h,e[49]=x):x=e[49];let b;e[50]!==u||e[51]!==x?(b=a.jsxs(Fe,{children:[u,x]}),e[50]=u,e[51]=x,e[52]=b):b=e[52];let g;e[53]!==A?(g=A!==null&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Age: ",a.jsx("span",{className:"font-semibold",children:A})," years"]}),e[53]=A,e[54]=g):g=e[54];let _;e[55]!==r?.dob||e[56]!==t.errors?.dob?(_=(r?.dob||t.errors?.dob)&&a.jsx("p",{className:"text-sm text-red-500",children:r?.dob||t.errors?.dob}),e[55]=r?.dob,e[56]=t.errors?.dob,e[57]=_):_=e[57];let j;e[58]!==b||e[59]!==g||e[60]!==_?(j=a.jsxs("div",{className:"space-y-2",children:[$,b,g,_]}),e[58]=b,e[59]=g,e[60]=_,e[61]=j):j=e[61];let z;e[62]===Symbol.for("react.memo_cache_sentinel")?(z=a.jsxs(xe,{className:"text-sm font-medium",children:["Gender ",a.jsx("span",{className:"text-red-400",children:"*"})]}),e[62]=z):z=e[62];let v;e[63]!==t?(v=s=>{t.setData("gender",s),R(Ie)},e[63]=t,e[64]=v):v=e[64];let H;e[65]===Symbol.for("react.memo_cache_sentinel")?(H=a.jsx(ve,{className:"w-full",children:a.jsx(Ne,{placeholder:"Select gender"})}),e[65]=H):H=e[65];let J;e[66]===Symbol.for("react.memo_cache_sentinel")?(J=a.jsxs(Se,{children:[a.jsx(he,{value:"male",children:"Male"}),a.jsx(he,{value:"female",children:"Female"})]}),e[66]=J):J=e[66];let N;e[67]!==t.data.gender||e[68]!==v?(N=a.jsxs(je,{value:t.data.gender,onValueChange:v,children:[H,J]}),e[67]=t.data.gender,e[68]=v,e[69]=N):N=e[69];let S;e[70]!==r?.gender||e[71]!==t.errors?.gender?(S=(r?.gender||t.errors?.gender)&&a.jsx("p",{className:"text-sm text-red-500",children:r?.gender||t.errors?.gender}),e[70]=r?.gender,e[71]=t.errors?.gender,e[72]=S):S=e[72];let y;e[73]!==N||e[74]!==S?(y=a.jsxs("div",{className:"space-y-2",children:[z,N,S]}),e[73]=N,e[74]=S,e[75]=y):y=e[75];const ie=r?.phone||t.errors?.phone;let D;e[76]!==t?(D=s=>{t.setData("phone",s)},e[76]=t,e[77]=D):D=e[77];let C;e[78]!==t.data.phone||e[79]!==ie||e[80]!==D?(C=a.jsx(B,{name:"phone",label:"Phone Number",placeholder:"Phone Number",required:!0,value:t.data.phone,error:ie,onChangeEvent:D}),e[78]=t.data.phone,e[79]=ie,e[80]=D,e[81]=C):C=e[81];const me=r?.email||t.errors?.email;let P;e[82]!==t?(P=s=>{t.setData("email",s)},e[82]=t,e[83]=P):P=e[83];let E;e[84]!==t.data.email||e[85]!==me||e[86]!==P?(E=a.jsx(B,{name:"email",label:"Email",placeholder:"Email",value:t.data.email,type:"email",error:me,onChangeEvent:P}),e[84]=t.data.email,e[85]=me,e[86]=P,e[87]=E):E=e[87];const de=r?.address||t.errors?.address;let F;e[88]!==t?(F=s=>{t.setData("address",s)},e[88]=t,e[89]=F):F=e[89];let w;e[90]!==t.data.address||e[91]!==de||e[92]!==F?(w=a.jsx(B,{name:"address",label:"address",placeholder:"Address",value:t.data.address,error:de,onChangeEvent:F}),e[90]=t.data.address,e[91]=de,e[92]=F,e[93]=w):w=e[93];let K;e[94]===Symbol.for("react.memo_cache_sentinel")?(K=a.jsx(xe,{className:"mb-2",children:"Profile Photo"}),e[94]=K):K=e[94];let q;e[95]!==t?(q=a.jsxs("div",{className:"w-full flex flex-col",children:[K,a.jsx(qe,{type:"file",onChange:s=>t.setData("photo",s.target.files?.[0]||null)})]}),e[95]=t,e[96]=q):q=e[96];const ce=t.processing?"Saving...":"Save patient";let L;e[97]!==t.processing||e[98]!==ce?(L=a.jsx(ue,{type:"submit",className:"w-full cursor-pointer py-5",disabled:t.processing,children:ce}),e[97]=t.processing,e[98]=ce,e[99]=L):L=e[99];let Q;return e[100]!==le||e[101]!==f||e[102]!==j||e[103]!==y||e[104]!==C||e[105]!==E||e[106]!==w||e[107]!==q||e[108]!==L?(Q=a.jsxs("form",{onSubmit:le,className:"mt-6 px-4 space-y-4",children:[f,j,y,C,E,w,q,L]}),e[100]=le,e[101]=f,e[102]=j,e[103]=y,e[104]=C,e[105]=E,e[106]=w,e[107]=q,e[108]=L,e[109]=Q):Q=e[109],Q}function Ie(n){return{...n,gender:""}}function ke(n){return n>new Date}function Ae(n){return{...n,last_name:""}}function Ge(n){return{...n,first_name:""}}export{ct as default};
