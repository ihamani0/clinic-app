import{c as $,j as e,r as n,d as y}from"./app-CN3BbJ5b.js";import{b as z,C as P,c as _}from"./card-hahnXqXv.js";import{T as U,a as W,b as q,c as G,A as J}from"./app-layout-BzTYAiCf.js";import{d as K}from"./index-DRZEVRN_.js";import{c as F}from"./index-CZjjwbrG.js";import{T as O,a as Q,b as C,c as b}from"./tabs-COuFNA3X.js";import r from"./appointment-skeleton-cwm20ktX.js";import{I as w}from"./input-DxGc0FAF.js";import{a as D,b as L,e as k,S as N,d as m}from"./select-TIAfpI0l.js";import{B as I}from"./button-C7NEJwXC.js";import S from"./appointment-tab-BVg-OgwT.js";import{R as X}from"./recycle-BWf2Y3TC.js";/* empty css            */import"./utils-Dt8dQi6c.js";import"./index-C4vEbMH5.js";import"./index-DaLjAgKf.js";import"./index-B_ayM8w2.js";import"./sheet-D66Q8epi.js";import"./index-fxJJ1D40.js";import"./index-BpvnwpBx.js";import"./index-HyMYkPDM.js";import"./index-BPocjY7g.js";import"./index-B2-ZojZD.js";import"./x-DOjlAHZp.js";import"./createLucideIcon-Cvhmgf6U.js";import"./index-BTIXps0c.js";import"./index-Zn1P3asn.js";import"./index-CVLhjVh0.js";import"./dropdown-menu-CS6Euuvw.js";import"./index-CACXGmPQ.js";import"./index-R_dNZub3.js";import"./avatar-BFC8jzEK.js";import"./index-BcvZZGcV.js";import"./index-B2Vp4zyf.js";import"./index-CMWG4mbA.js";import"./chevrons-up-down-Je0y-Cb2.js";import"./app-logo-icon-CthLvkfy.js";import"./calendar-D5oWVwJF.js";import"./calendar-days-B2uKnAIu.js";import"./chevron-right-BFI9On6S.js";import"./index-CT7R5o8s.js";import"./check-Bm50D4KV.js";import"./badge-BlVA20f-.js";import"./box-color-BenHyZDA.js";import"./table-CZ9mNtUt.js";import"./index-BT5Tqy2x.js";import"./parseISO-DSEiU6Nx.js";import"./eye-DjvO8K30.js";import"./circle-x-qblXZ9ZK.js";function R(T){const t=$.c(13),{children:j,content:i,side:f,delayDuration:p}=T,x=f===void 0?"top":f,c=p===void 0?200:p;let o;t[0]!==j?(o=e.jsx(U,{asChild:!0,children:j}),t[0]=j,t[1]=o):o=t[1];let a;t[2]!==i?(a=typeof i=="string"?e.jsx("p",{children:i}):i,t[2]=i,t[3]=a):a=t[3];let d;t[4]!==x||t[5]!==a?(d=e.jsx(W,{side:x,children:a}),t[4]=x,t[5]=a,t[6]=d):d=t[6];let l;t[7]!==o||t[8]!==d?(l=e.jsxs(q,{children:[o,d]}),t[7]=o,t[8]=d,t[9]=l):l=t[9];let u;return t[10]!==c||t[11]!==l?(u=e.jsx(G,{delayDuration:c,children:l}),t[10]=c,t[11]=l,t[12]=u):u=t[12],u}const Y=[{title:"Dashboard",href:K().url},{title:"Appointments",href:F.appointments.index().url},{title:"Appointments List",href:""}];function Ke({appointments:T,activeTab:t,doctors:j}){const[i,f]=n.useState(""),[p,x]=n.useState(""),[c,o]=n.useState(""),[a,d]=n.useState(""),[l,u]=n.useState(""),[v,A]=n.useState(!1),V=T||[],g=n.useMemo(()=>V.filter(s=>{const H=`${s.patient.first_name} ${s.patient.last_name}`.toLowerCase();return!(i&&!H.includes(i.toLowerCase())&&!(s.patient.phone||"").includes(i)||p&&String(s.doctor.id)!==p||c&&s.status!==c||a&&new Date(s.start)<new Date(a)||l&&new Date(s.start)>new Date(l))}),[T,i,p,c,a,l]),[h,M]=n.useState(t??""),B=n.useCallback(s=>{A(!0),M(s),y.get(F.appointments.list.index().url,{tab:s},{preserveState:!0,onFinish:()=>A(!1)})},[]),E=()=>{f(""),x(""),o("")};return e.jsx(J,{breadcrumbs:Y,children:e.jsx("div",{className:"p-6",children:e.jsxs(z,{children:[e.jsx(P,{children:"Appointment List"}),e.jsxs(_,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-7 gap-x-3 mb-6",children:[e.jsx(w,{className:"lg:col-span-2  ",placeholder:"Search patient...",value:i,onChange:s=>f(s.target.value)}),e.jsx(w,{type:"date",value:a,onChange:s=>d(s.target.value)}),e.jsx(w,{type:"date",value:l,onChange:s=>u(s.target.value)}),e.jsxs(D,{onValueChange:s=>x(s),value:p||"",children:[e.jsx(L,{className:"w-40",children:e.jsx(k,{placeholder:"All doctors "})}),e.jsx(N,{children:j.map(s=>e.jsx(m,{value:s.id.toLocaleString(),children:s.name},s.id))})]}),e.jsxs(D,{onValueChange:s=>o(s),value:c||"",children:[e.jsx(L,{className:"w-40",children:e.jsx(k,{placeholder:"select status "})}),e.jsxs(N,{children:[e.jsx(m,{value:"scheduled",children:"Scheduled"}),e.jsx(m,{value:"confirmed",children:"Confirmed"}),e.jsx(m,{value:"seated",children:"Seated"}),e.jsx(m,{value:"completed",children:"Completed"}),e.jsx(m,{value:"cancelled",children:"Cancelled"}),e.jsx(m,{value:"missed",children:"Missed"})]})]}),e.jsxs("div",{className:" gap-x-2 flex ",children:[e.jsx(R,{content:"Clear Filters",children:e.jsx(I,{onClick:E,size:"icon",variant:"outline",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-brush-cleaning-icon lucide-brush-cleaning",children:[e.jsx("path",{d:"m16 22-1-4"}),e.jsx("path",{d:"M19 14a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2h-3a1 1 0 0 1-1-1V4a2 2 0 0 0-4 0v5a1 1 0 0 1-1 1H6a2 2 0 0 0-2 2v1a1 1 0 0 0 1 1"}),e.jsx("path",{d:"M19 14H5l-1.973 6.767A1 1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5-.8-.8-.8-.8-.8-.8-.8-.8-.8-.8-.8-.8-.8-.8-.8-.8-.8-.8-.8-.8-.8-.8z"}),e.jsx("path",{d:"m8,22,9,9"})]})})}),e.jsx(R,{content:"Reset",children:e.jsx(I,{onClick:()=>y.get(F.appointments.list.index().url,{tab:h}),children:e.jsx(X,{})})})]})]}),e.jsxs(O,{value:h,onValueChange:B,children:[e.jsxs(Q,{className:"w-full my-4",children:[e.jsx(C,{value:"today",children:"Today"}),e.jsx(C,{value:"upcoming",children:"Upcoming"}),e.jsx(C,{value:"completed",children:"Completed"}),e.jsx(C,{value:"past",children:"Past"}),e.jsx(C,{value:"archived",children:"Archived"})]}),e.jsx(b,{value:"today",children:v?e.jsxs(e.Fragment,{children:[e.jsx(r,{}),e.jsx(r,{}),e.jsx(r,{})]}):e.jsx(S,{filtered:g,activeTab:h})}),e.jsx(b,{value:"upcoming",children:v?e.jsxs(e.Fragment,{children:[e.jsx(r,{}),e.jsx(r,{}),e.jsx(r,{})]}):e.jsx(S,{filtered:g,activeTab:h})}),e.jsx(b,{value:"completed",children:v?e.jsxs(e.Fragment,{children:[e.jsx(r,{}),e.jsx(r,{}),e.jsx(r,{})]}):e.jsx(S,{filtered:g,activeTab:h})}),e.jsx(b,{value:"past",children:v?e.jsxs(e.Fragment,{children:[e.jsx(r,{}),e.jsx(r,{}),e.jsx(r,{})]}):e.jsx(S,{filtered:g,activeTab:h})}),e.jsx(b,{value:"archived",children:v?e.jsxs(e.Fragment,{children:[e.jsx(r,{}),e.jsx(r,{}),e.jsx(r,{})]}):e.jsx(S,{filtered:g,activetab:t})})]})]})]})})})}export{Ke as default};
